<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>QRã‚³ãƒ¼ãƒ‰èª­ã¿å–ã‚Š</title>
  <script src="https://unpkg.com/html5-qrcode"></e>
    body { font-family: sans-serif; text-align: center; padding: 20px; }
    #reader { width: 300px; margin: auto; }
    #result { margin-top: 20px; font-size: 1.1em; }
    a { word-break: break-word; }
    #reload-btn {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1em;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      display: none;
    }
    #reload-btn:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h2>QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã£ã¦ãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹ã</h2>
  <div id="reader"></div>
  <div id="result">ã‚«ãƒ¡ãƒ©ã‚’è¨±å¯ã—ã¦ã€QRã‚³ãƒ¼ãƒ‰ã‚’ã‹ã–ã—ã¦ãã ã•ã„ã€‚</div>
  <button id="reload-btn" onclick="location.reload()">ğŸ”„ å†èª­ã¿è¾¼ã¿</button>

  <script>
    const baseUrl = "https://9cc8ab92.form.kintoneapp.com/public/e4ab891e5494ce9c1c235c90e0ac3c695df68c7850c77937de9e10477631e41a?è¨˜å…¥ãƒ™ãƒ³ãƒ€ãƒ¼=ã‚¢ã‚¤ãƒ»ã‚ªãƒ¼ãƒ»ãƒ‡ãƒ¼ã‚¿&";

    function onScanSuccess(decodedText) {
      const url = baseUrl + decodedText;
      document.getElementById('result').innerHTML = `
        âœ… èª­ã¿å–ã‚ŠæˆåŠŸï¼<br><br>
        <a href="${url}" target="_blank">${url}</a><br><br>
      `;
      document.getElementById('reload-btn').style.display = 'inline-block';
      html5QrCode.stop();
    }

    const html5QrCode = new Html5Qrcode("reader");
    html5QrCode.start(
      { facingMode: "environment" },
      { fps: 10, qrbox: 250 },
      onScanSuccess
    ).catch(err => {
      document.getElementById('result').innerText = "ã‚«ãƒ¡ãƒ©ã‚’èµ·å‹•ã§ãã¾ã›ã‚“: " + err;
    });
  </script>
</body>
</html>
